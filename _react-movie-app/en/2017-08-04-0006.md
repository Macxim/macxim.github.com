---
lang: en
type: collections
layout: default
---

Let's jump right into our [Main component](https://github.com/Macxim/eiga/blob/f2d011db2321b1fb40033537a1943ee603f37407/src/components/Main/index.js).

A lot of things have changed here:

- A new `api` folder was created with a file inside containing variables related to the API. I chose to separate this information as we might need it and use it in multiple files 
- The `<Main />` component was created and added to the `<App />` one

Inside the `<Main />` component:

  - For the first time, we are dealing with both [state](https://facebook.github.io/react/docs/state-and-lifecycle.html) and [props](https://facebook.github.io/react/docs/components-and-props.html). The object returned from the API request is stored in the state. The prop `title` is used to display the title of the section. It's passed from the parent component `<App />` [here](https://github.com/Macxim/eiga/blob/f2d011db2321b1fb40033537a1943ee603f37407/src/App.js#L19).
  - We [fetch the data thanks to the API request and store the result in the state](https://github.com/Macxim/eiga/blob/f2d011db2321b1fb40033537a1943ee603f37407/src/components/Main/index.js#L21-L33)
  - Finally, we use the [lifecycle hook](https://facebook.github.io/react/docs/state-and-lifecycle.html#adding-lifecycle-methods-to-a-class) `componentDidMount()` to retrieve the data once [the component has been rendered](https://github.com/Macxim/eiga/blob/f2d011db2321b1fb40033537a1943ee603f37407/src/components/Main/index.js#L17-L19) for the first time 
  
See the result in the console:

<a href="/assets/img/rma-0006-popular.jpg"><img src="/assets/img/rma-0006-popular.jpg" width="450"></a>

**Reference commit**: [f2d011d](https://github.com/Macxim/eiga/commit/f2d011db2321b1fb40033537a1943ee603f37407)
