---
lang: en
type: collections
layout: default
---

According to the API's maintainers, it turns out it's not a very good idea to filter and sort pre-made "featured" lists such as Popular, Top Rated and Coming Soon. Instead [we will use Discover](https://developers.themoviedb.org/3/discover) which supports a nice list of sort options.

So, we [build a Discover component](https://github.com/Macxim/eiga/commit/de46afb3ea32f53d33323a6348ec6e38d995c509#diff-3d0ba6a46be102955794a06ff7a5c60f). In this component there is a button to toggle the Filters bar. This was not an easy thing to do. I had to ask around in the [Reactiflux chat](https://www.reactiflux.com/).

Passing [the state `filtersOpen`](https://github.com/Macxim/eiga/commit/de46afb3ea32f53d33323a6348ec6e38d995c509#diff-14b1e33d5bf5649597cdc0e4f684daddR23) from `App` as [a prop to `Filters`](https://github.com/Macxim/eiga/commit/de46afb3ea32f53d33323a6348ec6e38d995c509#diff-5b20e9db52bc24bb7a20379466b2e68cR22) to toggle a CSS was quite easy. The hard part was the interaction between 3 components, because the toggling action must take place inside `Discover`, where the button is. But `Discover` had no way to communicate to `Filters`. There is a way to achieve this though:

1. In `App`, [pass down a function as a prop](https://github.com/Macxim/eiga/blob/de46afb3ea32f53d33323a6348ec6e38d995c509/src/App.js#L44) to `Discover`
2. In `Discover`, [call it inside discover](https://github.com/Macxim/eiga/blob/de46afb3ea32f53d33323a6348ec6e38d995c509/src/components/Discover/index.js#L48-L50) on button click
3. `App` runs that function when called, and changes `App`'s state. When `App`'s state changes, the prop sent down to `Filters` also changes, because we passed it `App`'s state in step 1.
4. Rejoice! ðŸŽ‡

**Reference commit**: [de46afb](https://github.com/Macxim/eiga/commit/de46afb3ea32f53d33323a6348ec6e38d995c509)
