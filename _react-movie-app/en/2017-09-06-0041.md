---
lang: en
type: collections
layout: default
---

Here we go with the function that will allow the user to add a movie to their favorite list.  

For this, we need the ID of the current authenticated user: `app.auth().currentUser.uid;`.

When the function is called, we update the `favorites` child object of the user [with the ID of the selected movie](https://github.com/Macxim/eiga/commit/8db811ccd0a7b2092715622e56f9755eddf4e2ee#diff-14b1e33d5bf5649597cdc0e4f684daddR61). 

Here is the result thanks to the magic of Firebase realtime database:

<a href="/assets/img/rma-0041-add-fav.gif"><img src="/assets/img/rma-0041-add-fav.gif" width=""></a>

Also, I am adding the favorites movies to the state [here](https://github.com/Macxim/eiga/commit/6f0ee20c97d2113256a9bfeffaa2af0747bb4a91#diff-14b1e33d5bf5649597cdc0e4f684daddR82) from the database. Pretty cool. Not sure if this will be helpful at some point or if I will do things differently but here it is. It was interesting anyway to know how to _read_ data from the database instead of just writing it.

**Reference commits**: [8db811c](https://github.com/Macxim/eiga/commit/8db811ccd0a7b2092715622e56f9755eddf4e2ee), [6f0ee20](https://github.com/Macxim/eiga/commit/6f0ee20c97d2113256a9bfeffaa2af0747bb4a91)
