---
lang: en
type: collections
layout: default
---

First, in `App.js` we add a `user: null` to the `defaultState`. Then, we manage the state (wether the user is logged in or not) in `componentWillMount` [here](https://github.com/Macxim/eiga/commit/92010f7d9a6996c77103890204ba84d660a102af#diff-14b1e33d5bf5649597cdc0e4f684daddR55). We pass a [prop](https://github.com/Macxim/eiga/commit/92010f7d9a6996c77103890204ba84d660a102af#diff-14b1e33d5bf5649597cdc0e4f684daddR77) to the `Header` component to access the `user`'s data. In the header, we add the user's avatar and a link to `/logout`. For now, clicking the avatar will log out the user.

In [#31](#31), we added a way to reset filters and move the content of the state to a property initializer. Now, I just added `authenticated: false` and `user: null` to the `defaultState`. I realized we can't do this because they would be reset when we reset the filters. Instead, [we add them to the state](https://github.com/Macxim/eiga/commit/84263f3044bbe53087ad68b6f3076a08898e1d93) and use the spread operator to add `defaultState` too.

In order to test our authentication process, we need to be able to log out. So, here we [create a Logout component](https://github.com/Macxim/eiga/commit/be99f506cf59f8070e8d94bc2eaa97c41b1d7c03). This component will sign out the user and redirect them to the homepage afterwards.


**Reference commits**: 
[92010f7](https://github.com/Macxim/eiga/commit/92010f7d9a6996c77103890204ba84d660a102af), [84263f3](https://github.com/Macxim/eiga/commit/84263f3044bbe53087ad68b6f3076a08898e1d93), [be99f50](https://github.com/Macxim/eiga/commit/be99f506cf59f8070e8d94bc2eaa97c41b1d7c03)
