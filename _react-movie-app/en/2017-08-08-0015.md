---
lang: en
type: collections
layout: default
---

The following is an attempt at fixing the search issue that I described in the previous post.
Even if there are things that I don't fully understand, it seems to work now.

It turns out `<Redirect>` wasn't the best way to achieve what I had in mind. A better way is to use [`history.push`](https://reacttraining.com/react-router/web/api/history) with [`withRouter`](https://reacttraining.com/react-router/web/api/withRouter). [Check the code](https://github.com/Macxim/eiga/blob/3bc23b966643e2dd7e7a3eebf3f08897271bd76a/src/components/SearchBar/index.js#L23-L25) for the `<SearchBar />` component.

Then, in `<SearchResults />` we can access the state thanks to [`location`](https://reacttraining.com/react-router/web/api/location).

Why I had to [change the route path](https://github.com/Macxim/eiga/commit/3bc23b966643e2dd7e7a3eebf3f08897271bd76a?diff=unified#diff-14b1e33d5bf5649597cdc0e4f684dadd) from `/search?query=:searchTerm` to `/search` remains a mistery 🤷🏻‍♂️. 

The route was completely ignored. It wouldn't go to `SearchResults`. Again, if anyone has an explanation, I'm all ears 🙋🏻‍♂️.

**Reference commit**: [3bc23b9](https://github.com/Macxim/eiga/commit/3bc23b966643e2dd7e7a3eebf3f08897271bd76a)
