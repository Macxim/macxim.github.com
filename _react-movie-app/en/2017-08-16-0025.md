---
lang: en
type: collections
layout: default
---

The goal in this step is enabling the rating filters. The default rating is from 0 to 10. It is passed as props to the API call in `Discover`. What we want is that everytime we change these values, it should update the state of `App` and therefore update the props passed, calling the API with new parameters.

I used the same method as in [#24](#24): passing a callback function.

We don't need the state directly in the `Filters` component. It needs to be managed by `App` only. The [callback function](https://github.com/Macxim/eiga/commit/0361ecf4e4d8077ca0cc5bc541358bce01267e54#diff-5b20e9db52bc24bb7a20379466b2e68cR8) `updateFilters()` in `Filters` doesn't actually change the state, it needs to take the new data as an argument. And then, in the parent (`App`), `updateFilters()` takes the new data and set the new state with it. The child `Filters` is directly calling that function, and inside it `this` is the parent's instance.

Last but not least, we use `componentWillReceiveProps` in `Discover` to call the API again once the new props are received.

Now, I'm pretty sure we are going to have to refactor because we will use multiple filters, not just ratings.

**Reference commit**: [0361ecf](https://github.com/Macxim/eiga/commit/0361ecf4e4d8077ca0cc5bc541358bce01267e54)
